# Генератор уникальных хеш значений для ссылок
## Где использовать?
Я писал для клона pastebin чтобы для каждого поста генерировалась случайная ссылка.
Но это в принципе просто генератор уникальных хешей, его можно юзать где угодно  

## Принцип работы:
Уникальное число берется из sequence в postgres, получается из него хеш и кодируется с помощью base64  
Используется urlsafe, поэтому хеш не содержит специальных символов для ссылок

Сервер работает и генерирует значения для ссылок автономно, а не по запросу. В settings.py задается количество предварительно подготовленных ссылок и время, раз в которое нужно генерировать ссылки. Раз в заданное время сервер проверяет количество урлов в кэше и если их ниже заданного количества, то начинается генерация. 

При запросе из кэша достается и удаляется одна ссылка и функция возвращает JsonResponse. Если запросов было очень много и готовые урлы закончились, то ссылка сгенерируется во время запроса. 



## Проект готов к работе
1. Создать директорию и в нее поместить репозиторий.
2. В settings.py указать значения READY_URLS_LIST_LIMIT REDIS_CHECK_TIMEOUT
3. Подготовить базу данных для проекта создать роль и базу
4. Выполнить в базе запрос из первой функции в models.py
5. Заполнить DATABASES в settings.py 
6. Открыть директорию в терминале и прописать `python3.12 -m venv env`
7. `source env/bin/activate`
8. `cd random-url-generator/`
9. `pip install -r requirements.txt`
10. `python3.12 manage.py runserver` 
